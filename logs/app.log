2025-11-04 09:47:42 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-04 09:47:42 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 09:47:42 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:47:42 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 09:47:42 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 09:47:42 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:47:42 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-04 09:47:43 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-04 09:47:43 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 11716 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 09:47:43 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 09:47:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 09:47:47 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 375 ms. Found 11 JPA repository interfaces.
2025-11-04 09:47:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 09:47:47 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:47:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 09:47:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 09:47:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 09:47:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3794 ms
2025-11-04 09:47:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 09:47:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 09:47:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 09:47:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-04 09:47:48 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59eea012
2025-11-04 09:47:48 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-04 09:47:48 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 09:47:48 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 09:47:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 09:47:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:47:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 09:47:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 09:47:52 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 09:47:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 09:47:52 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 8.686 seconds (process running for 1069.26)
2025-11-04 09:47:52 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 09:48:38 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-04 09:48:38 [Thread-19] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 09:48:38 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:48:38 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 09:48:38 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 09:48:38 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:48:38 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-04 09:48:38 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-04 09:48:39 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 11716 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 09:48:39 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 09:48:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 09:48:42 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 443 ms. Found 11 JPA repository interfaces.
2025-11-04 09:48:43 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 09:48:43 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:48:43 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 09:48:43 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 09:48:43 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 09:48:43 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3768 ms
2025-11-04 09:48:43 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 09:48:43 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 09:48:43 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 09:48:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-11-04 09:48:43 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6efdb2c3
2025-11-04 09:48:43 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-11-04 09:48:43 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 09:48:43 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 09:48:44 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 09:48:45 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:48:46 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 09:48:47 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 09:48:47 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 09:48:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 09:48:47 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 7.874 seconds (process running for 1124.271)
2025-11-04 09:48:47 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 09:48:59 [http-nio-8080-exec-2] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 09:48:59 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 09:48:59 [http-nio-8080-exec-2] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-04 09:48:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:48:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:48:59 [http-nio-8080-exec-2] INFO  c.t.s.expense.ExpenseServiceImpl - File deleted for expense 23: ../../../../3cebcb42-3fde-4e11-9248-75f415fda45c_banner_01.jpg
2025-11-04 09:48:59 [http-nio-8080-exec-2] WARN  c.t.service.file.FileStorageService - File not found, cannot delete: D:\ITS\Truck\..\..\..\3cebcb42-3fde-4e11-9248-75f415fda45c_banner_01.jpg
2025-11-04 09:48:59 [http-nio-8080-exec-2] INFO  c.t.service.file.FileStorageService - File uploaded successfully: uploads\expenses\2025\11\04\55f002b0-c481-4d99-b206-61c8d91db46e_banner_01.jpg
2025-11-04 09:48:59 [http-nio-8080-exec-2] INFO  c.t.service.file.FileStorageService - File uploaded successfully: expenses\2025\11\04\55f002b0-c481-4d99-b206-61c8d91db46e_banner_01.jpg
2025-11-04 09:48:59 [http-nio-8080-exec-2] INFO  c.t.s.expense.ExpenseServiceImpl - File updated for expense 23: expenses/2025/11/04/55f002b0-c481-4d99-b206-61c8d91db46e_banner_01.jpg
2025-11-04 09:48:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 09:48:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 09:48:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 09:48:59 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 09:49:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:49:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:49:25 [http-nio-8080-exec-3] INFO  c.t.s.expense.ExpenseServiceImpl - File deleted for expense 23: expenses/2025/11/04/55f002b0-c481-4d99-b206-61c8d91db46e_banner_01.jpg
2025-11-04 09:49:25 [http-nio-8080-exec-3] INFO  c.t.service.file.FileStorageService - File deleted successfully: D:\ITS\Truck\uploads\expenses\2025\11\04\55f002b0-c481-4d99-b206-61c8d91db46e_banner_01.jpg
2025-11-04 09:49:25 [http-nio-8080-exec-3] INFO  c.t.service.file.FileStorageService - File uploaded successfully: uploads\expenses\2025\11\04\60568258-b9be-461d-a1c0-a0c9e609eb49_banner_01.jpg
2025-11-04 09:49:25 [http-nio-8080-exec-3] INFO  c.t.service.file.FileStorageService - File uploaded successfully: expenses\2025\11\04\60568258-b9be-461d-a1c0-a0c9e609eb49_banner_01.jpg
2025-11-04 09:49:25 [http-nio-8080-exec-3] INFO  c.t.s.expense.ExpenseServiceImpl - File updated for expense 23: expenses/2025/11/04/60568258-b9be-461d-a1c0-a0c9e609eb49_banner_01.jpg
2025-11-04 09:49:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 09:49:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 09:49:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 09:49:25 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 09:49:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:49:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:49:43 [http-nio-8080-exec-4] INFO  c.t.s.expense.ExpenseServiceImpl - File deleted for expense 23: expenses/2025/11/04/60568258-b9be-461d-a1c0-a0c9e609eb49_banner_01.jpg
2025-11-04 09:49:43 [http-nio-8080-exec-4] INFO  c.t.service.file.FileStorageService - File deleted successfully: D:\ITS\Truck\uploads\expenses\2025\11\04\60568258-b9be-461d-a1c0-a0c9e609eb49_banner_01.jpg
2025-11-04 09:49:43 [http-nio-8080-exec-4] INFO  c.t.service.file.FileStorageService - File uploaded successfully: uploads\expenses\2025\11\04\58d623a1-d4a6-4d6f-9919-0e8ff8b3dc08_banner_01.jpg
2025-11-04 09:49:43 [http-nio-8080-exec-4] INFO  c.t.service.file.FileStorageService - File uploaded successfully: expenses\2025\11\04\58d623a1-d4a6-4d6f-9919-0e8ff8b3dc08_banner_01.jpg
2025-11-04 09:49:43 [http-nio-8080-exec-4] INFO  c.t.s.expense.ExpenseServiceImpl - File updated for expense 23: expenses/2025/11/04/58d623a1-d4a6-4d6f-9919-0e8ff8b3dc08_banner_01.jpg
2025-11-04 09:49:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 09:49:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 09:49:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 09:49:43 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 09:51:52 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-04 09:51:52 [Thread-23] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 09:51:52 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:51:52 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 09:51:52 [Thread-23] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 09:51:52 [Thread-23] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:51:52 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown initiated...
2025-11-04 09:51:52 [Thread-23] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Shutdown completed.
2025-11-04 09:51:52 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 11716 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 09:51:52 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 09:51:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 09:51:54 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 323 ms. Found 11 JPA repository interfaces.
2025-11-04 09:51:54 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 09:51:54 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:51:54 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 09:51:54 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 09:51:54 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 09:51:54 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1963 ms
2025-11-04 09:51:55 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 09:51:55 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 09:51:55 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 09:51:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Starting...
2025-11-04 09:51:55 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@545715ef
2025-11-04 09:51:55 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Start completed.
2025-11-04 09:51:55 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 09:51:55 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-7)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 09:51:55 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 09:51:56 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:51:57 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 09:51:57 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 09:51:57 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 09:51:57 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 09:51:57 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 5.062 seconds (process running for 1314.992)
2025-11-04 09:51:57 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 09:52:19 [http-nio-8080-exec-4] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 09:52:19 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 09:52:19 [http-nio-8080-exec-4] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 1 ms
2025-11-04 09:52:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:52:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:52:19 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - delete from expenses where id=?
2025-11-04 09:53:17 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-04 09:53:17 [Thread-27] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 09:53:17 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:53:17 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 09:53:17 [Thread-27] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 09:53:17 [Thread-27] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:53:17 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown initiated...
2025-11-04 09:53:18 [Thread-27] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-7 - Shutdown completed.
2025-11-04 09:53:18 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 11716 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 09:53:18 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 09:53:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 09:53:19 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 260 ms. Found 11 JPA repository interfaces.
2025-11-04 09:53:20 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 09:53:20 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:53:20 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 09:53:20 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 09:53:20 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 09:53:20 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1652 ms
2025-11-04 09:53:20 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 09:53:20 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 09:53:20 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 09:53:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Starting...
2025-11-04 09:53:20 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@25f6703a
2025-11-04 09:53:20 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Start completed.
2025-11-04 09:53:20 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 09:53:20 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-8)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 09:53:21 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 09:53:21 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:53:22 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 09:53:22 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 09:53:22 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 09:53:22 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 09:53:22 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 4.162 seconds (process running for 1399.571)
2025-11-04 09:53:22 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 09:53:35 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 09:53:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 09:53:35 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-04 09:53:35 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:53:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:53:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 09:53:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 09:53:36 [http-nio-8080-exec-1] INFO  c.t.service.file.FileStorageService - File uploaded successfully: uploads\expenses\2025\11\04\c303aa6b-6391-4d5f-986f-e1c9d36f9512_banner_01.jpg
2025-11-04 09:53:36 [http-nio-8080-exec-1] INFO  c.t.service.file.FileStorageService - File uploaded successfully: expenses\2025\11\04\c303aa6b-6391-4d5f-986f-e1c9d36f9512_banner_01.jpg
2025-11-04 09:53:36 [http-nio-8080-exec-1] INFO  c.t.s.expense.ExpenseServiceImpl - File updated for expense 24: expenses/2025/11/04/c303aa6b-6391-4d5f-986f-e1c9d36f9512_banner_01.jpg
2025-11-04 09:53:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 09:53:36 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 09:53:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:53:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:53:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 09:53:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 09:53:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 09:53:44 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 09:54:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:54:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:54:01 [http-nio-8080-exec-4] INFO  c.t.service.file.FileStorageService - File deleted successfully: D:\ITS\Truck\uploads\expenses\2025\11\04\c303aa6b-6391-4d5f-986f-e1c9d36f9512_banner_01.jpg
2025-11-04 09:54:01 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - delete from expenses where id=?
2025-11-04 09:54:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 09:54:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 09:54:19 [http-nio-8080-exec-3] WARN  c.t.service.file.FileStorageService - File not found, cannot delete: D:\ITS\Truck\..\..\..\783ee3f7-dd20-411e-9b0d-d510bccf62b1_images.jpg
2025-11-04 09:54:19 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - delete from expenses where id=?
2025-11-04 09:56:55 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-11-04 09:56:55 [Thread-31] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 09:56:55 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:56:55 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 09:56:55 [Thread-31] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 09:56:55 [Thread-31] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:56:55 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown initiated...
2025-11-04 09:56:55 [Thread-31] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-8 - Shutdown completed.
2025-11-04 09:56:55 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 11716 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 09:56:55 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 09:56:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 09:56:59 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 469 ms. Found 11 JPA repository interfaces.
2025-11-04 09:56:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 09:56:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:56:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 09:56:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 09:56:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 09:56:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3770 ms
2025-11-04 09:56:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 09:56:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 09:56:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 09:56:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Starting...
2025-11-04 09:57:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2a71f403
2025-11-04 09:57:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Start completed.
2025-11-04 09:57:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 09:57:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-9)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 09:57:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 09:57:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:57:03 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 09:57:04 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 09:57:04 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 09:57:04 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 09:57:04 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 8.366 seconds (process running for 1621.361)
2025-11-04 09:57:04 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 09:58:57 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-04 09:58:57 [Thread-35] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 09:58:57 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 09:58:57 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 09:58:57 [Thread-35] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 09:58:57 [Thread-35] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 09:58:57 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown initiated...
2025-11-04 09:58:57 [Thread-35] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-9 - Shutdown completed.
2025-11-04 09:58:57 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 11716 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 09:58:57 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:00:21 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-04 10:00:21 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 16176 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 10:00:21 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:00:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-04 10:00:22 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-04 10:00:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:00:27 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 793 ms. Found 11 JPA repository interfaces.
2025-11-04 10:00:31 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 10:00:31 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:00:31 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:00:31 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:00:31 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:00:31 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 9371 ms
2025-11-04 10:00:32 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:00:32 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 10:00:33 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:00:34 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:00:34 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 10:00:35 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4d90b323
2025-11-04 10:00:35 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 10:00:36 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:00:36 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:00:40 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:00:41 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:00:45 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:00:48 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 10:00:48 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 10:00:48 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 10:00:48 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 28.764 seconds (process running for 30.97)
2025-11-04 10:01:55 [http-nio-8080-exec-1] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 10:01:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 10:01:55 [http-nio-8080-exec-1] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 3 ms
2025-11-04 10:02:30 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:02:52 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:02:52 [http-nio-8080-exec-4] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'path' for method parameter type String is not present]
2025-11-04 10:03:20 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:03:20 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'path' for method parameter type String is not present]
2025-11-04 10:03:36 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:03:36 [http-nio-8080-exec-6] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'path' for method parameter type String is not present]
2025-11-04 10:03:55 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:03:55 [http-nio-8080-exec-10] INFO  o.apache.tomcat.util.http.Parameters - Invalid chunk starting at byte [0] and ending at byte [1] with a value of [=] ignored
 Note: further occurrences of Parameter errors will be logged at DEBUG level.
2025-11-04 10:03:55 [http-nio-8080-exec-10] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'path' for method parameter type String is not present]
2025-11-04 10:04:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:04:10 [http-nio-8080-exec-2] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'path' for method parameter type String is not present]
2025-11-04 10:04:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:04:39 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:04:46 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:04:46 [http-nio-8080-exec-8] WARN  o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.bind.MissingServletRequestParameterException: Required request parameter 'path' for method parameter type String is not present]
2025-11-04 10:05:06 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:05:23 [http-nio-8080-exec-7] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:06:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:06:05 [http-nio-8080-exec-10] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 10:06:05 [http-nio-8080-exec-10] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.transport.exception.AppException: Yu cu chi ph khng tn ti]
2025-11-04 10:06:13 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 10:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 10:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 10:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 10:06:14 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 10:06:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:06:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 10:06:23 [http-nio-8080-exec-4] INFO  c.t.s.expense.ExpenseServiceImpl - File deleted for expense 21: ../../../../7bb3efd1-e9a1-49e7-8e4c-8c0b36a8cd43_images.jpg
2025-11-04 10:06:23 [http-nio-8080-exec-4] WARN  c.t.service.file.FileStorageService - File not found, cannot delete: D:\ITS\Truck\..\..\..\7bb3efd1-e9a1-49e7-8e4c-8c0b36a8cd43_images.jpg
2025-11-04 10:06:23 [http-nio-8080-exec-4] INFO  c.t.service.file.FileStorageService - File uploaded successfully: uploads\expenses\2025\11\04\635d1486-cccf-400b-a71f-12645f98dc86_banner_01.jpg
2025-11-04 10:06:23 [http-nio-8080-exec-4] INFO  c.t.service.file.FileStorageService - File uploaded successfully: expenses\2025\11\04\635d1486-cccf-400b-a71f-12645f98dc86_banner_01.jpg
2025-11-04 10:06:23 [http-nio-8080-exec-4] INFO  c.t.s.expense.ExpenseServiceImpl - File updated for expense 21: expenses/2025/11/04/635d1486-cccf-400b-a71f-12645f98dc86_banner_01.jpg
2025-11-04 10:06:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 10:06:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 10:06:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 10:06:23 [http-nio-8080-exec-4] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 10:06:36 [http-nio-8080-exec-5] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:07:05 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:07:26 [http-nio-8080-exec-8] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:07:31 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:07:53 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:12:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:12:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select e1_0.id,e1_0.accountant_approved_at,e1_0.accountant_approved_by_id,e1_0.accountant_note,e1_0.amount,e1_0.attachment_url,e1_0.category_id,e1_0.created_at,e1_0.description,e1_0.driver_by_id,e1_0.expense_code,e1_0.expense_date,e1_0.location,e1_0.manager_approved_at,e1_0.manager_approved_by_id,e1_0.manager_note,e1_0.receipt_number,e1_0.status,e1_0.trip_id,e1_0.updated_at from expenses e1_0 where e1_0.id=?
2025-11-04 10:12:57 [http-nio-8080-exec-1] INFO  c.t.s.expense.ExpenseServiceImpl - File deleted for expense 21: expenses/2025/11/04/635d1486-cccf-400b-a71f-12645f98dc86_banner_01.jpg
2025-11-04 10:12:57 [http-nio-8080-exec-1] INFO  c.t.service.file.FileStorageService - File deleted successfully: D:\ITS\Truck\uploads\expenses\2025\11\04\635d1486-cccf-400b-a71f-12645f98dc86_banner_01.jpg
2025-11-04 10:12:57 [http-nio-8080-exec-1] INFO  c.t.service.file.FileStorageService - File uploaded successfully: uploads\expenses\2025\11\04\27712f69-3307-4183-897b-4b698785b288_MOB104 - Slide 1.pdf
2025-11-04 10:12:57 [http-nio-8080-exec-1] INFO  c.t.service.file.FileStorageService - File uploaded successfully: expenses\2025\11\04\27712f69-3307-4183-897b-4b698785b288_MOB104 - Slide 1.pdf
2025-11-04 10:12:57 [http-nio-8080-exec-1] INFO  c.t.s.expense.ExpenseServiceImpl - File updated for expense 21: expenses/2025/11/04/27712f69-3307-4183-897b-4b698785b288_MOB104 - Slide 1.pdf
2025-11-04 10:12:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select ec1_0.id,ec1_0.category_group,ec1_0.code,ec1_0.description,ec1_0.is_active,ec1_0.name from expense_categories ec1_0 where ec1_0.id=?
2025-11-04 10:12:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select t1_0.id,t1_0.actual_arrival_time,t1_0.approval_status,t1_0.approved_at,t1_0.approved_by,t1_0.cancellation_reason,t1_0.cancelled_at,t1_0.cargo_description,t1_0.cargo_weight,t1_0.completed_at,t1_0.created_at,t1_0.created_by,t1_0.departure_time,t1_0.driver_id,t1_0.estimated_arrival_time,t1_0.note,t1_0.route_id,t1_0.status,t1_0.trip_code,t1_0.updated_at,t1_0.vehicle_id from trips t1_0 where t1_0.id=?
2025-11-04 10:12:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - select u1_0.id,u1_0.address,u1_0.avatar_url,u1_0.created_at,u1_0.date_of_birth,d1_0.id,d1_0.base_salary,d1_0.created_at,d1_0.driver_code,d1_0.employment_status,d1_0.license_class,d1_0.license_expiry_date,d1_0.license_issue_date,d1_0.license_number,d1_0.note,d1_0.updated_at,d1_0.years_of_experience,u1_0.full_name,u1_0.id_number,u1_0.is_active,u1_0.password,u1_0.phone,u1_0.updated_at,u1_0.username from users u1_0 left join drivers d1_0 on u1_0.id=d1_0.id where u1_0.id=?
2025-11-04 10:12:57 [http-nio-8080-exec-1] DEBUG org.hibernate.SQL - update expenses set accountant_approved_at=?,accountant_approved_by_id=?,accountant_note=?,amount=?,attachment_url=?,category_id=?,description=?,driver_by_id=?,expense_code=?,expense_date=?,location=?,manager_approved_at=?,manager_approved_by_id=?,manager_note=?,receipt_number=?,status=?,trip_id=?,updated_at=? where id=?
2025-11-04 10:13:10 [http-nio-8080-exec-2] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:22:05 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-11-04 10:22:05 [Thread-5] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 10:22:05 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 10:22:05 [Thread-5] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:05 [Thread-5] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:22:05 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown initiated...
2025-11-04 10:22:05 [Thread-5] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Shutdown completed.
2025-11-04 10:22:06 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 16176 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 10:22:06 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:22:09 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:22:10 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 999 ms. Found 11 JPA repository interfaces.
2025-11-04 10:22:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 10:22:12 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:12 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:22:12 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:22:12 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:22:12 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 6119 ms
2025-11-04 10:22:12 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:22:12 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:22:12 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:22:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Starting...
2025-11-04 10:22:12 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@239fc100
2025-11-04 10:22:12 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Start completed.
2025-11-04 10:22:12 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:22:12 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-2)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:22:19 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:22:20 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:22:23 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:22:24 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 10:22:24 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:25 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 10:22:25 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 19.197 seconds (process running for 1327.739)
2025-11-04 10:22:25 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 10:22:26 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 2 class path changes (1 addition, 0 deletions, 1 modification)
2025-11-04 10:22:26 [Thread-7] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 10:22:26 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:26 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 10:22:26 [Thread-7] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:26 [Thread-7] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:22:26 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown initiated...
2025-11-04 10:22:26 [Thread-7] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-2 - Shutdown completed.
2025-11-04 10:22:27 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 16176 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 10:22:27 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:22:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:22:29 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 504 ms. Found 11 JPA repository interfaces.
2025-11-04 10:22:30 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 10:22:30 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:30 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:22:30 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:22:30 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:22:30 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3190 ms
2025-11-04 10:22:30 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:22:30 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:22:30 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:22:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Starting...
2025-11-04 10:22:30 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5307bc79
2025-11-04 10:22:30 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Start completed.
2025-11-04 10:22:30 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:22:30 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-3)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:22:32 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:22:33 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:22:34 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:22:35 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 10:22:35 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:35 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 10:22:35 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 8.349 seconds (process running for 1338.015)
2025-11-04 10:22:35 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 10:22:44 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-11-04 10:22:44 [Thread-11] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 10:22:44 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:44 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 10:22:44 [Thread-11] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:44 [Thread-11] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:22:44 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown initiated...
2025-11-04 10:22:44 [Thread-11] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-3 - Shutdown completed.
2025-11-04 10:22:44 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 16176 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 10:22:44 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:22:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:22:46 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 283 ms. Found 11 JPA repository interfaces.
2025-11-04 10:22:47 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 10:22:47 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:47 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:22:47 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:22:47 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:22:47 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 2818 ms
2025-11-04 10:22:47 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:22:47 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:22:47 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:22:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Starting...
2025-11-04 10:22:47 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@59628f16
2025-11-04 10:22:47 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Start completed.
2025-11-04 10:22:47 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:22:47 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-4)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:22:49 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:22:49 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:22:51 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:22:52 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 10:22:52 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:52 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 10:22:52 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 8.459 seconds (process running for 1355.605)
2025-11-04 10:22:53 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 10:22:54 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-04 10:22:54 [Thread-15] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 10:22:54 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:54 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 10:22:54 [Thread-15] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:54 [Thread-15] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:22:54 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown initiated...
2025-11-04 10:22:54 [Thread-15] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-4 - Shutdown completed.
2025-11-04 10:22:55 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 16176 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 10:22:55 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:22:57 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:22:58 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 1396 ms. Found 11 JPA repository interfaces.
2025-11-04 10:22:59 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 10:22:59 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:22:59 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:22:59 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:22:59 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:22:59 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 4050 ms
2025-11-04 10:22:59 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:22:59 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:22:59 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:22:59 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Starting...
2025-11-04 10:23:00 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7af41000
2025-11-04 10:23:00 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Start completed.
2025-11-04 10:23:00 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:23:00 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-5)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:23:01 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:23:01 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:23:02 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:23:03 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 10:23:03 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 10:23:03 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 10:23:03 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 8.72 seconds (process running for 1366.49)
2025-11-04 10:23:03 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 10:23:05 [File Watcher] INFO  o.s.b.d.a.LocalDevToolsAutoConfiguration$RestartingClassPathChangeChangedEventListener - Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-11-04 10:23:05 [Thread-19] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Commencing graceful shutdown. Waiting for active requests to complete
2025-11-04 10:23:05 [tomcat-shutdown] INFO  o.a.coyote.http11.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:23:05 [tomcat-shutdown] INFO  o.s.b.w.e.tomcat.GracefulShutdown - Graceful shutdown complete
2025-11-04 10:23:05 [Thread-19] INFO  o.a.coyote.http11.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-8080"]
2025-11-04 10:23:05 [Thread-19] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:23:05 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown initiated...
2025-11-04 10:23:05 [Thread-19] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-5 - Shutdown completed.
2025-11-04 10:23:05 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 16176 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 10:23:05 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:23:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:23:06 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 283 ms. Found 11 JPA repository interfaces.
2025-11-04 10:23:07 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 10:23:07 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:23:07 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:23:07 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:23:07 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:23:07 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 1727 ms
2025-11-04 10:23:07 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:23:07 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:23:07 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:23:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Starting...
2025-11-04 10:23:07 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6996b246
2025-11-04 10:23:07 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-6 - Start completed.
2025-11-04 10:23:07 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:23:07 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-6)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:23:08 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:23:09 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:23:11 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:23:12 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 10:23:12 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 10:23:12 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 10:23:12 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 6.747 seconds (process running for 1375.013)
2025-11-04 10:23:12 [restartedMain] INFO  o.s.b.d.a.ConditionEvaluationDeltaLoggingListener - Condition evaluation unchanged
2025-11-04 10:25:32 [background-preinit] INFO  o.h.validator.internal.util.Version - HV000001: Hibernate Validator 8.0.3.Final
2025-11-04 10:25:32 [restartedMain] INFO  com.transport.VanchuyenApplication - Starting VanchuyenApplication using Java 21.0.7 with PID 21616 (D:\ITS\Truck\target\classes started by LENOVO in D:\ITS\Truck)
2025-11-04 10:25:32 [restartedMain] INFO  com.transport.VanchuyenApplication - No active profile set, falling back to 1 default profile: "default"
2025-11-04 10:25:33 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-11-04 10:25:33 [restartedMain] INFO  o.s.b.d.e.DevToolsPropertyDefaultsPostProcessor - For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-11-04 10:25:36 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-11-04 10:25:37 [restartedMain] INFO  o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 519 ms. Found 11 JPA repository interfaces.
2025-11-04 10:25:40 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat initialized with port 8080 (http)
2025-11-04 10:25:40 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-8080"]
2025-11-04 10:25:40 [restartedMain] INFO  o.a.catalina.core.StandardService - Starting service [Tomcat]
2025-11-04 10:25:40 [restartedMain] INFO  o.a.catalina.core.StandardEngine - Starting Servlet engine: [Apache Tomcat/10.1.46]
2025-11-04 10:25:40 [restartedMain] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring embedded WebApplicationContext
2025-11-04 10:25:40 [restartedMain] INFO  o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 7518 ms
2025-11-04 10:25:41 [restartedMain] INFO  o.h.jpa.internal.util.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2025-11-04 10:25:41 [restartedMain] INFO  org.hibernate.Version - HHH000412: Hibernate ORM core version 6.6.29.Final
2025-11-04 10:25:41 [restartedMain] INFO  o.h.c.i.RegionFactoryInitiator - HHH000026: Second-level cache disabled
2025-11-04 10:25:42 [restartedMain] INFO  o.s.o.j.p.SpringPersistenceUnitInfo - No LoadTimeWeaver setup: ignoring JPA class transformer
2025-11-04 10:25:42 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Starting...
2025-11-04 10:25:44 [restartedMain] INFO  com.zaxxer.hikari.pool.HikariPool - HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7003063f
2025-11-04 10:25:44 [restartedMain] INFO  com.zaxxer.hikari.HikariDataSource - HikariPool-1 - Start completed.
2025-11-04 10:25:44 [restartedMain] WARN  org.hibernate.orm.deprecation - HHH90000025: MySQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2025-11-04 10:25:44 [restartedMain] INFO  o.hibernate.orm.connections.pooling - HHH10001005: Database info:
	Database JDBC URL [Connecting through datasource 'HikariDataSource (HikariPool-1)']
	Database driver: undefined/unknown
	Database version: 8.0.30
	Autocommit mode: undefined/unknown
	Isolation level: undefined/unknown
	Minimum pool size: undefined/unknown
	Maximum pool size: undefined/unknown
2025-11-04 10:25:48 [restartedMain] INFO  o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2025-11-04 10:25:48 [restartedMain] INFO  o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-11-04 10:25:52 [restartedMain] WARN  o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-11-04 10:25:55 [restartedMain] INFO  o.s.b.d.a.OptionalLiveReloadServer - LiveReload server is running on port 35729
2025-11-04 10:25:55 [restartedMain] INFO  o.a.coyote.http11.Http11NioProtocol - Starting ProtocolHandler ["http-nio-8080"]
2025-11-04 10:25:55 [restartedMain] INFO  o.s.b.w.e.tomcat.TomcatWebServer - Tomcat started on port 8080 (http) with context path '/'
2025-11-04 10:25:55 [restartedMain] INFO  com.transport.VanchuyenApplication - Started VanchuyenApplication in 24.463 seconds (process running for 26.577)
2025-11-04 10:26:00 [http-nio-8080-exec-3] INFO  o.a.c.c.C.[Tomcat].[localhost].[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-11-04 10:26:00 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2025-11-04 10:26:00 [http-nio-8080-exec-3] INFO  o.s.web.servlet.DispatcherServlet - Completed initialization in 2 ms
2025-11-04 10:26:02 [http-nio-8080-exec-3] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:26:54 [http-nio-8080-exec-5] WARN  c.t.s.a.token.TokenServiceImpl - Invalid token: Invalid serialized unsecured/JWS/JWE object: Missing part delimiters
2025-11-04 10:26:54 [http-nio-8080-exec-5] ERROR o.a.c.c.C.[.[.[.[dispatcherServlet] - Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception
org.springframework.security.authentication.AuthenticationServiceException: Token introspection failed
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:106)
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.authenticate(JwtAuthenticationProvider.java:88)
	at org.springframework.security.authentication.ProviderManager.authenticate(ProviderManager.java:182)
	at org.springframework.security.oauth2.server.resource.web.authentication.BearerTokenAuthenticationFilter.doFilterInternal(BearerTokenAuthenticationFilter.java:144)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82)
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.ServletRequestPathFilter.doFilter(ServletRequestPathFilter.java:52)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebSecurityConfiguration.java:319)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.servlet.handler.HandlerMappingIntrospector.lambda$createCacheFilter$4(HandlerMappingIntrospector.java:267)
	at org.springframework.web.filter.CompositeFilter$VirtualFilterChain.doFilter(CompositeFilter.java:113)
	at org.springframework.web.filter.CompositeFilter.doFilter(CompositeFilter.java:74)
	at org.springframework.security.config.annotation.web.configuration.WebMvcSecurityConfiguration$CompositeFilterChainProxy.doFilter(WebMvcSecurityConfiguration.java:240)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:116)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:398)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:903)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1776)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:975)
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:493)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
	at java.base/java.lang.Thread.run(Thread.java:1583)
Caused by: org.springframework.security.oauth2.jwt.JwtException: Token introspection failed
	at com.transport.config.CustomJWTDecoder.decode(CustomJWTDecoder.java:40)
	at org.springframework.security.oauth2.server.resource.authentication.JwtAuthenticationProvider.getJwt(JwtAuthenticationProvider.java:99)
	... 68 common frames omitted
2025-11-04 10:27:05 [http-nio-8080-exec-6] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
2025-11-04 10:27:05 [http-nio-8080-exec-6] WARN  o.s.w.s.m.m.a.ExceptionHandlerExceptionResolver - Resolved [com.transport.exception.AppException: Khng tm thy file]
2025-11-04 10:27:32 [http-nio-8080-exec-9] DEBUG org.hibernate.SQL - select count(*) from invalidated_tokens it1_0 where it1_0.token_id=?
